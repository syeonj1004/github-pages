<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>아두이노 버튼→LED 시뮬레이터 (D5 버튼, D8 LED)</title>
  <style>
    :root{
      --bg:#0f172a; /* slate-900 */
      --panel:#111827; /* gray-900 */
      --muted:#9ca3af; /* gray-400 */
      --text:#e5e7eb; /* gray-200 */
      --accent:#60a5fa; /* blue-400 */
      --ok:#34d399; /* emerald-400 */
      --warn:#f59e0b; /* amber-500 */
      --danger:#f87171; /* red-400 */
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1024,#0f172a 40%,#0b1024);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Pretendard,Malgun Gothic,sans-serif}
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    h1{font-size:28px;margin:0 0 8px}
    .sub{color:var(--muted);margin-bottom:18px}

    .grid{display:grid;grid-template-columns:1.05fr 0.95fr;gap:20px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg,#0f172a,#0b1024);border:1px solid #1f2937;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.35);padding:18px}
    .card h2{margin:0 0 8px;font-size:20px}
    .row{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
    .pill{padding:6px 10px;border:1px solid #374151;border-radius:999px;color:var(--muted);font-size:13px}
    .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;background:#111827;border:1px solid #374151;border-radius:6px;padding:2px 6px}

    /* Board panel */
    .board{display:grid;grid-template-columns:260px 1fr;gap:16px}
    @media (max-width:840px){.board{grid-template-columns:1fr}}

    /* UNO drawing */
    .uno{position:relative;width:260px;height:420px;margin:auto;background:#0b1b2e;border:2px solid #1e293b;border-radius:14px;box-shadow:inset 0 0 0 2px #0a1320, 0 8px 30px rgba(0,0,0,.4)}
    .uno .logo{position:absolute;right:12px;top:10px;color:#5eead4;font-weight:700;letter-spacing:.5px;font-size:12px;opacity:.9}
    .rail{position:absolute;left:8px;right:8px;height:8px;background:#111827;border:1px solid #203047;border-radius:6px}
    .rail.top{top:48px}
    .rail.bot{bottom:20px}
    .pin{position:absolute;width:30px;height:14px;background:#0f2338;border:1px solid #243b53;border-radius:4px;color:#bcd7ff;font-size:10px;display:flex;align-items:center;justify-content:center}
    /* Digital pins D0..D13 along top */
    .pin.d0{top:28px;left:14px}
    .pin.d1{top:28px;left:46px}
    .pin.d2{top:28px;left:78px}
    .pin.d3{top:28px;left:110px}
    .pin.d4{top:28px;left:142px}
    .pin.d5{top:28px;left:174px}
    .pin.d6{top:28px;left:206px}
    .pin.d7{top:28px;left:238px}
    .pin.d8{top:370px;left:14px}
    .pin.d9{top:370px;left:46px}
    .pin.d10{top:370px;left:78px}
    .pin.d11{top:370px;left:110px}
    .pin.d12{top:370px;left:142px}
    .pin.d13{top:370px;left:174px}
    .pin.gnd-top{top:28px;left:206px;opacity:.0001} /* invisible helper */

    /* LED visual */
    .led{--on:0;position:relative;width:56px;height:56px;border-radius:50%;background:radial-gradient(circle at 35% 35%, rgba(255,255,255,.15), rgba(255,255,255,.03) 20%, rgba(0,0,0,.6)),
      radial-gradient(circle, rgba(250,250,250,.05), rgba(0,0,0,.7));
      border:2px solid #1f2937;box-shadow:0 0 0 2px #0b1320, inset 0 0 18px rgba(255,255,255,.06), 0 0 calc(20px*var(--on)) rgba(248, 113, 113,.85);
      transition:box-shadow .2s ease, filter .2s ease;
    }
    .led.red{filter:saturate(calc(1 + .8*var(--on))) hue-rotate(0deg)}
    .led.on{--on:1}

    .led-label{font-size:13px;color:var(--muted);margin-top:6px}

    /* Button visual */
    .push{position:relative;display:inline-grid;place-items:center;width:120px;height:120px;border-radius:18px;background:linear-gradient(180deg,#111827,#0b1320);border:1px solid #243244;box-shadow:inset 0 0 0 1px #0e1623,0 8px 24px rgba(0,0,0,.45)}
    .push .cap{width:64px;height:64px;border-radius:50%;background:radial-gradient(circle at 35% 30%,#263449,#0d1420 50%);border:1px solid #334155;box-shadow:inset 0 6px 14px rgba(255,255,255,.08), inset 0 -8px 16px rgba(0,0,0,.4);transform:translateY(0);transition:transform .06s ease}
    .push.active .cap{transform:translateY(4px)}
    .push .lamp{position:absolute;bottom:10px;width:10px;height:10px;border-radius:50%;background:#374151;box-shadow:0 0 0 2px #111827}
    .push.active .lamp{background:#22d3ee;box-shadow:0 0 12px #22d3ee}
    .push-label{margin-top:8px;color:var(--muted);font-size:13px}

    /* Wires (simulation view) */
    .wire{stroke:#94a3b8;stroke-width:3;fill:none;opacity:.7}
    .wire.on{stroke:#60a5fa;opacity:1;filter:drop-shadow(0 0 6px #60a5fa)}
    .wire.gnd{stroke:#64748b}

    /* Status panel */
    .status{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
    .badge{border:1px solid #334155;border-radius:10px;padding:10px;background:#0b1320}
    .badge .t{display:block;font-size:12px;color:var(--muted)}
    .badge .v{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;font-weight:700}

    /* Diagram panel */
    .diagram{width:100%;height:auto;display:block}
    .legend{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
    .legend span{display:inline-flex;gap:6px;align-items:center;color:var(--muted);font-size:13px}
    .swatch{width:16px;height:3px;background:#94a3b8;display:inline-block}
    .swatch.vcc{background:#ef4444}
    .swatch.sig{background:#60a5fa}
    .swatch.g{background:#64748b}

    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
    button{background:#111827;color:var(--text);border:1px solid #334155;border-radius:10px;padding:10px 14px;cursor:pointer}
    button:active{transform:translateY(1px)}
    .note{color:var(--muted);font-size:13px;margin-top:6px}
    .code{background:#0b1320;border:1px solid #1f2937;border-radius:12px;padding:12px;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;white-space:pre-wrap;color:#cbd5e1}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>버튼을 누르면 LED가 켜지는 시뮬레이터</h1>
    <div class="sub">핀 구성: <b>D8 → LED</b>, <b>D5 → 버튼</b> (LED: 220Ω 직렬, 버튼: 10kΩ 풀다운). <span class="pill">마우스로 버튼 클릭</span> <span class="pill">또는 <span class="kbd">Space</span> 키</span></div>

    <div class="grid">
      <!-- Left: Interactive simulator -->
      <section class="card">
        <h2>시뮬레이션</h2>
        <div class="board">
          <!-- UNO simplified drawing with key pins -->
          <div class="uno" aria-label="Arduino UNO (간이 표시)">
            <div class="logo">UNO</div>
            <div class="rail top"></div>
            <div class="rail bot"></div>
            <div class="pin d0">D0</div>
            <div class="pin d1">D1</div>
            <div class="pin d2">D2</div>
            <div class="pin d3">D3</div>
            <div class="pin d4">D4</div>
            <div class="pin d5" id="pinD5">D5</div>
            <div class="pin d6">D6</div>
            <div class="pin d7">D7</div>
            <div class="pin d8" id="pinD8">D8</div>
            <div class="pin d9">D9</div>
            <div class="pin d10">D10</div>
            <div class="pin d11">D11</div>
            <div class="pin d12">D12</div>
            <div class="pin d13">D13</div>

            <!-- Simple wires (visual only) -->
            <svg viewBox="0 0 260 420" width="260" height="420" style="position:absolute;inset:0;pointer-events:none">
              <!-- Button to D5 (signal) -->
              <path id="wSig" class="wire" d="M 174 28 L 174 120 L 210 160" />
              <!-- LED from D8 to resistor to LED to GND (signal) -->
              <path id="wLed" class="wire" d="M 14 370 L 14 300 L 60 260" />
              <!-- Ground wire visual (not interactive) -->
              <path class="wire gnd" d="M 60 260 L 100 300 L 100 380" />
            </svg>
          </div>

          <!-- Controls & indicators -->
          <div>
            <div class="row" style="gap:22px">
              <div>
                <div id="led" class="led red" aria-label="LED"></div>
                <div class="led-label">LED (D8)</div>
              </div>
              <div>
                <div id="push" class="push" role="button" aria-label="버튼">
                  <div class="cap"></div>
                  <div class="lamp"></div>
                </div>
                <div class="push-label">푸시 버튼 (D5)</div>
              </div>
            </div>

            <div class="controls">
              <button id="pressOnce">버튼 한 번 누르기</button>
              <button id="hold">꾹 누르고 있기</button>
              <button id="release">놓기</button>
              <button id="reset">리셋</button>
            </div>

            <div class="status">
              <div class="badge"><span class="t">D5 입력</span><span class="v" id="vD5">LOW</span></div>
              <div class="badge"><span class="t">D8 출력</span><span class="v" id="vD8">LOW</span></div>
              <div class="badge"><span class="t">LED 상태</span><span class="v" id="vLED">OFF</span></div>
            </div>

            <p class="note">로직: <b>D5</b>가 <b>HIGH</b>이면 <b>D8</b>을 <b>HIGH</b>로 설정 → LED 켜짐. (<b>풀다운</b> 저항으로 기본값은 LOW)</p>
          </div>
        </div>
      </section>

      <!-- Right: Wiring diagram -->
      <section class="card">
        <h2>배선도 (개념도)</h2>
        <svg class="diagram" viewBox="0 0 800 520" aria-label="배선도">
          <!-- Board rectangle -->
          <rect x="30" y="40" width="420" height="420" rx="16" fill="#0b1b2e" stroke="#1e293b" stroke-width="3"/>
          <text x="420" y="66" text-anchor="end" fill="#5eead4" font-size="14" font-weight="700">UNO</text>

          <!-- Pin rows labels -->
          <!-- Top digital pins -->
          <g fill="#bcd7ff" font-size="12">
            <rect x="60" y="30" width="320" height="8" rx="4" fill="#111827" stroke="#203047" />
            <g>
              <rect x="80" y="18" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="98" y="30" text-anchor="middle">D2</text>
              <rect x="120" y="18" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="138" y="30" text-anchor="middle">D3</text>
              <rect x="160" y="18" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="178" y="30" text-anchor="middle">D4</text>
              <rect x="200" y="18" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="218" y="30" text-anchor="middle">D5</text>
              <rect x="240" y="18" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="258" y="30" text-anchor="middle">D6</text>
              <rect x="280" y="18" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="298" y="30" text-anchor="middle">D7</text>
            </g>
          </g>

          <!-- Bottom digital pins D8..D13 -->
          <g fill="#bcd7ff" font-size="12">
            <rect x="60" y="460" width="320" height="8" rx="4" fill="#111827" stroke="#203047" />
            <g>
              <rect x="80" y="466" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="98" y="478" text-anchor="middle">D8</text>
              <rect x="120" y="466" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="138" y="478" text-anchor="middle">D9</text>
              <rect x="160" y="466" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="178" y="478" text-anchor="middle">D10</text>
              <rect x="200" y="466" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="218" y="478" text-anchor="middle">D11</text>
              <rect x="240" y="466" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="258" y="478" text-anchor="middle">D12</text>
              <rect x="280" y="466" width="36" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="298" y="478" text-anchor="middle">D13</text>
              <rect x="320" y="466" width="50" height="16" rx="3" fill="#0f2338" stroke="#243b53"/><text x="345" y="478" text-anchor="middle">GND</text>
            </g>
          </g>

          <!-- LED + resistor to D8 -->
          <g>
            <!-- Wire D8 -> Resistor -->
            <path d="M 98 466 C 98 420, 180 420, 180 400" stroke="#60a5fa" stroke-width="3" fill="none" />
            <!-- Resistor symbol -->
            <rect x="170" y="388" width="20" height="24" fill="#f59e0b" stroke="#7c4a02"/>
            <text x="180" y="384" text-anchor="middle" fill="#fbbf24" font-size="12">220Ω</text>
            <!-- Wire Resistor -> LED anode -->
            <path d="M 190 400 L 250 400" stroke="#60a5fa" stroke-width="3" fill="none" />
            <!-- LED symbol -->
            <circle cx="268" cy="400" r="16" fill="#111827" stroke="#f87171" stroke-width="3" />
            <path d="M 252 400 L 284 400" stroke="#f87171" stroke-width="3"/>
            <path d="M 280 392 L 294 384" stroke="#f87171" stroke-width="2"/>
            <path d="M 280 408 L 294 400" stroke="#f87171" stroke-width="2"/>
            <text x="268" y="376" text-anchor="middle" fill="#fca5a5" font-size="12">LED(+)</text>
            <!-- LED cathode to GND -->
            <path d="M 284 400 C 320 400, 340 420, 345 466" stroke="#64748b" stroke-width="3" fill="none" />
          </g>

          <!-- Button to D5 with pulldown to GND -->
          <g>
            <!-- 5V rail label -->
            <rect x="520" y="80" width="40" height="24" rx="6" fill="#dc2626"/>
            <text x="540" y="96" text-anchor="middle" fill="#fff" font-size="12">5V</text>

            <!-- Button symbol -->
            <rect x="560" y="100" width="46" height="46" rx="8" fill="#111827" stroke="#334155" />
            <circle cx="583" cy="123" r="12" fill="#0d1420" stroke="#475569"/>
            <text x="583" y="92" text-anchor="middle" fill="#93c5fd" font-size="12">버튼</text>

            <!-- 5V -> Button top lead -->
            <path d="M 540 92 L 583 92 L 583 111" stroke="#ef4444" stroke-width="3" fill="none" />
            <!-- Button bottom lead -> D5 -->
            <path d="M 583 135 L 583 180 L 430 180 C 390 180, 370 80, 218 30" stroke="#60a5fa" stroke-width="3" fill="none" />
            <text x="420" y="165" fill="#93c5fd" font-size="12">→ D5</text>

            <!-- Pulldown resistor from D5 node to GND -->
            <rect x="560" y="180" width="46" height="16" fill="#f59e0b" stroke="#7c4a02" />
            <text x="583" y="176" text-anchor="middle" fill="#fbbf24" font-size="12">10kΩ</text>
            <path d="M 583 196 L 583 230" stroke="#64748b" stroke-width="3" />
            <rect x="560" y="230" width="46" height="20" rx="5" fill="#111827" stroke="#334155" />
            <text x="583" y="244" text-anchor="middle" fill="#cbd5e1" font-size="12">GND</text>
          </g>

          <!-- Labels -->
          <text x="120" y="352" fill="#93c5fd" font-size="13">D8 → 220Ω → LED(+) → GND</text>
          <text x="512" y="280" fill="#93c5fd" font-size="13">D5 ← 버튼 (5V) + 10kΩ 풀다운</text>
        </svg>

        <div class="legend">
          <span><i class="swatch sig"></i> 신호선</span>
          <span><i class="swatch vcc"></i> 5V</span>
          <span><i class="swatch g"></i> GND</span>
        </div>
        <p class="note">실습 팁: LED는 <b>긴 다리(애노드, +)</b>가 신호/저항 쪽, <b>짧은 다리(캐소드, -)</b>는 <b>GND</b>로 연결합니다. 버튼은 <b>풀다운 10kΩ</b>로 기본값을 <b>LOW</b>로 유지합니다.</p>
      </section>
    </div>

    <section class="card" style="margin-top:16px">
      <h2>아두이노 예시 코드 (설명용)</h2>
      <pre class="code">// 핀 상수
const int BTN = 5;   // 입력
const int LED = 8;   // 출력

void setup(){
  pinMode(BTN, INPUT);      // 외부 10kΩ 풀다운 사용
  pinMode(LED, OUTPUT);
}

void loop(){
  int pressed = digitalRead(BTN); // HIGH/LOW 읽기
  digitalWrite(LED, pressed ? HIGH : LOW);
}
</pre>
      <p class="note">교실 적용: 보드 없이도 작동 원리를 시각화하여 이해시키고, 이후 실제 브레드보드 배선으로 전환해 실습을 이어가세요.</p>
    </section>
  </div>

<script>
  // Simple virtual MCU state
  const state = { D5:false, D8:false };
  const el = {
    push: document.getElementById('push'),
    led: document.getElementById('led'),
    vD5: document.getElementById('vD5'),
    vD8: document.getElementById('vD8'),
    vLED: document.getElementById('vLED'),
    wSig: document.getElementById('wSig'),
    wLed: document.getElementById('wLed'),
    btnPress: document.getElementById('pressOnce'),
    btnHold: document.getElementById('hold'),
    btnRelease: document.getElementById('release'),
    btnReset: document.getElementById('reset')
  };

  // MCU logic: if D5 HIGH -> D8 HIGH
  function evaluate(){
    state.D8 = !!state.D5;
    // Visuals
    el.vD5.textContent = state.D5? 'HIGH' : 'LOW';
    el.vD8.textContent = state.D8? 'HIGH' : 'LOW';
    el.vLED.textContent = state.D8? 'ON' : 'OFF';
    el.led.classList.toggle('on', state.D8);
    el.wSig.classList.toggle('on', state.D5);
    el.wLed.classList.toggle('on', state.D8);
    el.push.classList.toggle('active', state.D5);
  }
  evaluate();

  // Button interactions
  function press(){ state.D5 = true; evaluate(); }
  function release(){ state.D5 = false; evaluate(); }

  el.btnPress.addEventListener('click', ()=>{ press(); setTimeout(release, 200); });
  el.btnHold.addEventListener('click', press);
  el.btnRelease.addEventListener('click', release);
  el.btnReset.addEventListener('click', ()=>{ state.D5=false; state.D8=false; evaluate(); });

  // Mouse/touch on the big button
  el.push.addEventListener('mousedown', press);
  el.push.addEventListener('mouseup', release);
  el.push.addEventListener('mouseleave', ()=>{ if(state.D5) release(); });
  el.push.addEventListener('touchstart', (e)=>{ e.preventDefault(); press(); }, {passive:false});
  el.push.addEventListener('touchend', (e)=>{ e.preventDefault(); release(); }, {passive:false});

  // Keyboard: Space to hold
  window.addEventListener('keydown', (e)=>{
    if(e.code==='Space'){ e.preventDefault(); press(); }
  });
  window.addEventListener('keyup', (e)=>{
    if(e.code==='Space'){ e.preventDefault(); release(); }
  });
</script>
</body>
</html>
